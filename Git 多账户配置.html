<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 多账户配置 | hello vitepress</title>
    <meta name="description" content="这里是描述">
    <link rel="stylesheet" href="/assets/style.d78986b9.css">
    <link rel="modulepreload" href="/assets/Home.ea2944d6.js">
    <link rel="modulepreload" href="/assets/app.d2162012.js">
    <link rel="modulepreload" href="/assets/Git 多账户配置.md.5aa41f0f.lean.js">
    <link rel="modulepreload" href="/assets/app.d2162012.js">
    <meta name="twitter:title" content="Git 多账户配置 | hello vitepress">
    <meta property="og:title" content="Git 多账户配置 | hello vitepress">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="hello vitepress, back to home" data-v-675d8756 data-v-4a583abe><!----> hello vitepress</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/archives/" data-v-b8818f8c>归档 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/tags/" data-v-b8818f8c>分类 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>关于 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/archives/" data-v-b8818f8c>归档 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/tags/" data-v-b8818f8c>分类 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>关于 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#git-多账户配置">Git 多账户配置</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#方案一：单个仓库配置">方案一：单个仓库配置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#方案二：根据工作区配置">方案二：根据工作区配置</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="git-多账户配置"><a class="header-anchor" href="#git-多账户配置" aria-hidden="true">#</a> Git 多账户配置</h2><blockquote><p>Git 对于我们开发人员来说已经是必不可少的工具了，几乎每一个开发者都在GitHub上有一个账号，但是工作的时候一般都是内网的 Gitlab，这就不可避免的需要在不同的账号之前切换，每次都 git config 的话会很麻烦，如果你不知道怎么一劳永逸的解决账号切换的问题，那就往下看看吧。</p></blockquote><h3 id="方案一：单个仓库配置"><a class="header-anchor" href="#方案一：单个仓库配置" aria-hidden="true">#</a> 方案一：单个仓库配置</h3><p>我们在配置 git 的时候，如果加上 <code>--global</code> 参数，说明是全局配置，相应的配置会体现在 ~/.gitconfig 文件的变动上，如果不加则是对单个项目的配置。比如在某个仓库下执行：</p><div class="language-sh"><pre><code>git config user.name USER
git config user.email EMAIL
</code></pre></div><p>这样则会为当前仓库配置一个不同于全局配置的用户，虽然这样可以切换账号，但是只对当前仓库生效，每次从远端克隆一个仓库都要根据不同情况判断是不是需要更改用户，很不方便。</p><h3 id="方案二：根据工作区配置"><a class="header-anchor" href="#方案二：根据工作区配置" aria-hidden="true">#</a> 方案二：根据工作区配置</h3><p>从 git 2.13.0 开始，git 的配置文件开始支持 conditional includes 的配置，我们可以用这一点实现不同目录不同配置。</p><p>首先在用户目录下创建两个文件，分别对应个人配置和工作配置</p><div class="language-sh"><pre><code>touch ~/.gitconfig-work ~/.gitconfig-personal
</code></pre></div><img src="https://cdn.jsdelivr.net/gh/Zjinxing/image-galary@master/blog/%E6%88%AA%E5%B1%8F2021-09-27%20%E4%B8%8B%E5%8D%8811.45.49.png" alt="截屏2021-09-27 下午11.45.49" style="zoom:67%;"><p>然后在编辑 <code>.gitconfig</code> 文件，在其中加入以下配置：</p><div class="language-bash"><pre><code><span class="token punctuation">[</span>includeIf <span class="token string">&quot;gitdir:/path/to/work/directory/&quot;</span><span class="token punctuation">]</span>
  path <span class="token operator">=</span> ~/.gitconfig-work
<span class="token punctuation">[</span>includeIf <span class="token string">&quot;gitdir:/path/to/personal/directory&quot;</span><span class="token punctuation">]</span>
  path <span class="token operator">=</span> ~/.gitconfig-personal
</code></pre></div><p>然后我们在 work 目录下初始化一个仓库，然后进入这个仓库，在终端输入以下命令查看配置是否成功：</p><div class="language-bash"><pre><code><span class="token function">git</span> config --show-origin --get user.name
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/Zjinxing/image-galary@master/blog/image-20211008215553896.png" alt="image-20211008215553896"></p><p>可以看到我们的配置是来自 <code>.gitconfig-work</code> 文件的，说明配置已经生效了，以后工作相关的项目就放到 work 目录下，个人的项目放到 personal 目录下，就不用对每个仓库进行单独配置了，这是不是就方便多了。</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"git 多账户配置.md\":\"5aa41f0f\",\"intersectionobserver-infinitscroll.md\":\"d413d964\",\"bubblesort.md\":\"7009b54c\",\"chat-input.md\":\"9f75bf23\",\"clonedeep.md\":\"34cf558e\",\"electron-rxdb.md\":\"af9925cc\",\"elementui-el-table-sort.md\":\"d2d8e4ca\",\"index.md\":\"a3825ffd\",\"javascript-extends.md\":\"f179804d\",\"miniprogram-swipe.md\":\"02d41eda\",\"service-worker-push-message.md\":\"7edf957d\",\"vitepress-blog.md\":\"7ce5bccd\",\"vue3-reactive.md\":\"85f3bd94\",\"公众号开发采坑总结.md\":\"a0dbeb13\",\"about_index.md\":\"83510a3f\",\"archives_index.md\":\"e559daa5\",\"tags_index.md\":\"a05e5034\"}")</script>
    <script type="module" async src="/assets/app.d2162012.js"></script>
  </body>
</html>